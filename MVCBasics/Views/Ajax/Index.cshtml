<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<h2>Ajax </h2>



<label for="idField"> Write ID to interact with: </label>
<input type="text" id="idInput" name="idField" />
<br />
<br />
<button id="peopleButton" type="button" class="btn btn-primary">People</button>
<button id="detailsButton" type="button" class="btn btn-primary">Details</button>
<button id="deleteButton" type="button" class="btn btn-primary">Delete</button>
<br />

<div id="loadPartialView"></div>

<script>
    
    document.getElementById("peopleButton").onclick = (
        function () {
            loadAllPeople();
        })
    
    document.getElementById("detailsButton").onclick = (
        function () {
            var inputString = $("#idInput").val();
            $.ajax({
                data: { index: inputString },
                url: "/Ajax/GetDetails",
                success: function (result) {
                    document.getElementById("loadPartialView").innerHTML = result;
                }
            });
        })
    
    document.getElementById("deleteButton").onclick = (
        function () {
            var inputString = $("#idInput").val();
            $.ajax({
                data: { index: inputString },
                url: "/Ajax/RemovePerson",
                success: function (result) {
                    loadAllPeople();
                }
            });
        })

    function loadAllPeople() {
        $(document).ready(function () {
            $('#loadPartialView').load('/Ajax/GetPersons');
        });
    }
</script>